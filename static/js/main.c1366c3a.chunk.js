(this["webpackJsonpusereducer-cart"]=this["webpackJsonpusereducer-cart"]||[]).push([[0],{15:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),r=c(7),i=c.n(r),s=(c(15),c(3)),o=c(5),l=c.n(o),j=c(8),u=c(10),d=[{id:1,title:"Samsung Galaxy S8",price:399.99,img:"https://dl.airtable.com/.attachments/64b266ad865098befbda3c3577a773c9/24497852/yedjpkwxljtb75t3tezl.png",amount:1},{id:2,title:"google pixel",price:499.99,img:"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png",amount:1},{id:3,title:"Xiaomi Redmi Note 2",price:699.99,img:"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png",amount:1},{id:4,title:"Samsung Galaxy S7",price:599.99,img:"https://dl.airtable.com/.attachments/91ee456448cef47deec553a2ea3fa8ad/b08bec68/phone-2_ohtt5s.png",amount:1}],b=function(e,t){if("CLEAR_CART"===t.type)return Object(s.a)(Object(s.a)({},e),{},{cart:[]});if("REAMOVE_ITEM"===t.type)return Object(s.a)(Object(s.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload}))});if("TOGGLE_AMOUNT"===t.type){var c=e.cart.map((function(e){if(e.id===t.payload.id){if("INCREASE"===t.payload.type)return Object(s.a)(Object(s.a)({},e),{},{amount:e.amount+1});if("DECREASE"===t.payload.type)return Object(s.a)(Object(s.a)({},e),{},{amount:e.amount-1})}return e})).filter((function(e){return 0!==e.amount}));return Object(s.a)(Object(s.a)({},e),{},{cart:c})}if("GET_TOTALS"===t.type){var n=e.cart.reduce((function(e,t){var c=t.price,n=t.amount,a=c*n;return e.total+=a,e.amount+=n,e}),{total:0,amount:0}),a=n.total,r=n.amount;return a=parseFloat(a.toFixed(2)),Object(s.a)(Object(s.a)({},e),{},{total:a,amount:r})}if("LOADING"===t.type)return Object(s.a)(Object(s.a)({},e),{},{loading:!0});if("DISPLAY_ITEMS"===t.type)return Object(s.a)(Object(s.a)({},e),{},{cart:t.payload,loading:!1});throw new Error("No Matching Actions Type!")},m=c(1),O=a.a.createContext(),h={loading:!1,cart:d,total:0,amount:0},p=function(e){var t=e.children,c=Object(n.useReducer)(b,h),a=Object(u.a)(c,2),r=a[0],i=a[1],o=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"LOADING"}),e.next=3,fetch("https://course-api.com/react-useReducer-cart-project");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,i({type:"DISPLAY_ITEMS",payload:c});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(e){o()}),[]),Object(n.useEffect)((function(e){i({type:"GET_TOTALS"})}),[r.cart]),Object(m.jsx)(O.Provider,{value:Object(s.a)(Object(s.a)({},r),{},{clearCart:function(){i({type:"CLEAR_CART"})},removeItem:function(e){i({type:"REAMOVE_ITEM",payload:e})},toggleAmount:function(e,t){i({type:"TOGGLE_AMOUNT",payload:{id:e,type:t}})}}),children:t})},f=function(e){return Object(n.useContext)(O)},x=c(9);var v=function(){var e=f().amount;return Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{className:"nav-center",children:[Object(m.jsx)("h3",{children:"UseReducer"}),Object(m.jsxs)("div",{className:"nav-container",children:[Object(m.jsx)(x.a,{}),Object(m.jsx)("div",{className:"amount-container",children:Object(m.jsx)("p",{className:"total-amount",children:e})})]})]})})},g=c(6);var y=function(e){var t=e.id,c=e.title,n=e.price,a=e.img,r=e.amount,i=f(),s=i.removeItem,o=i.toggleAmount;return Object(m.jsxs)("article",{className:"cart-item",children:[Object(m.jsx)("img",{className:"item-img",src:a,alt:c}),Object(m.jsxs)("div",{className:"item-info",children:[Object(m.jsx)("h4",{className:"item-title",children:c}),Object(m.jsx)("h4",{className:"item-price",children:n}),Object(m.jsx)("button",{className:"btn remove-btn",onClick:function(e){return s(t)},children:"remove"})]}),Object(m.jsxs)("div",{className:"increase-decrease",children:[Object(m.jsx)("button",{className:"btn amount-btn",onClick:function(e){return o(t,"INCREASE")},children:Object(m.jsx)(g.b,{})}),Object(m.jsx)("p",{className:"amonut",children:r}),Object(m.jsx)("button",{className:"btn amount-btn",onClick:function(e){return o(t,"DECREASE")},children:Object(m.jsx)(g.a,{})})]})]})};var N=function(){var e=f(),t=e.cart,c=e.clearCart,n=e.total;return 0===t.length?Object(m.jsx)("div",{className:"cart-container",children:Object(m.jsxs)("header",{children:[Object(m.jsx)("h2",{children:"YOUR BAG"}),Object(m.jsx)("h4",{className:"empty-cart",children:"is currently empty"})]})}):Object(m.jsxs)("div",{className:"cart-container",children:[Object(m.jsx)("header",{children:Object(m.jsx)("h2",{children:"YOUR BAG"})}),Object(m.jsx)("section",{className:"cart-body",children:Object(m.jsx)("div",{className:"cart-items",children:t.map((function(e){return Object(m.jsx)(y,Object(s.a)({},e),e.id)}))})}),Object(m.jsxs)("footer",{children:[Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"cart-total",children:Object(m.jsxs)("h4",{children:["Total ",Object(m.jsxs)("span",{children:["$",n]})]})}),Object(m.jsx)("button",{className:"btn clear-btn",onClick:c,children:"Clear Cart"})]})]})};var E=function(){return f().loading?Object(m.jsx)("div",{className:"loading",children:Object(m.jsx)("h1",{children:"Loading..."})}):Object(m.jsxs)("main",{children:[Object(m.jsx)(v,{}),Object(m.jsx)(N,{})]})};c(18);var A=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(p,{children:Object(m.jsx)(E,{})})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,20)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root")),C()}},[[19,1,2]]]);
//# sourceMappingURL=main.c1366c3a.chunk.js.map